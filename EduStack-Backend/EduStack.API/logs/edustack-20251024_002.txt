2025-10-24 10:42:52.411 +08:00 [INF] Testing database connection...
2025-10-24 10:42:53.991 +08:00 [INF] Database connection test: true
2025-10-24 10:42:54.003 +08:00 [INF] Database connection successful
2025-10-24 10:42:54.016 +08:00 [INF] EduStack API starting up...
2025-10-24 10:42:54.050 +08:00 [INF] User profile is available. Using 'C:\Users\TUF\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-24 10:42:54.194 +08:00 [INF] Now listening on: http://localhost:5000
2025-10-24 10:42:54.200 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-24 10:42:54.206 +08:00 [INF] Hosting environment: Development
2025-10-24 10:42:54.210 +08:00 [INF] Content root path: C:\xampp\htdocs\EduStack-eLearning-Website\EduStack-Backend\EduStack.API
2025-10-24 10:44:07.426 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/enrollments/my-enrollments - null null
2025-10-24 10:44:07.426 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/enrollments/my-enrollments - null null
2025-10-24 10:44:07.455 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/enrollments/my-enrollments - null null
2025-10-24 10:44:07.457 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/enrollments/my-enrollments - null null
2025-10-24 10:44:07.497 +08:00 [WRN] Failed to determine the https port for redirect.
2025-10-24 10:44:07.504 +08:00 [INF] CORS policy execution successful.
2025-10-24 10:44:07.504 +08:00 [INF] CORS policy execution successful.
2025-10-24 10:44:07.504 +08:00 [INF] CORS policy execution successful.
2025-10-24 10:44:07.504 +08:00 [INF] CORS policy execution successful.
2025-10-24 10:44:07.518 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/enrollments/my-enrollments - 204 null null 94.432ms
2025-10-24 10:44:07.518 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/enrollments/my-enrollments - 204 null null 59.8757ms
2025-10-24 10:44:07.518 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/enrollments/my-enrollments - 204 null null 94.4329ms
2025-10-24 10:44:07.518 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/enrollments/my-enrollments - 204 null null 62.3263ms
2025-10-24 10:44:07.560 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/enrollments/my-enrollments - application/json null
2025-10-24 10:44:07.585 +08:00 [INF] CORS policy execution successful.
2025-10-24 10:44:07.779 +08:00 [INF] Executing endpoint 'EduStack.API.Controllers.EnrollmentsController.GetUserEnrollments (EduStack.API)'
2025-10-24 10:44:07.888 +08:00 [INF] Route matched with {action = "GetUserEnrollments", controller = "Enrollments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserEnrollments() on controller EduStack.API.Controllers.EnrollmentsController (EduStack.API).
2025-10-24 10:44:08.869 +08:00 [INF] Executed DbCommand (89ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT e.id, e.completedat, e.courseid, e.enrolledat, e.status, e.userid, c.id, c.category, c.createdat, c.description, c.duration, c.instructorid, c.ispublished, c.level, c.price, c.thumbnail, c.title, c.updatedat
FROM enrollments AS e
INNER JOIN courses AS c ON e.courseid = c.id
WHERE e.userid = @__userId_0
ORDER BY e.enrolledat DESC
2025-10-24 10:44:08.905 +08:00 [INF] Executing OkObjectResult, writing value of type 'EduStack.Core.DTOs.Common.ApiResponse`1[[System.Collections.Generic.IEnumerable`1[[EduStack.Core.DTOs.Enrollment.EnrollmentResponseDto, EduStack.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-10-24 10:44:08.956 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/enrollments/my-enrollments - application/json null
2025-10-24 10:44:08.959 +08:00 [INF] Executed action EduStack.API.Controllers.EnrollmentsController.GetUserEnrollments (EduStack.API) in 1048.7403ms
2025-10-24 10:44:08.967 +08:00 [INF] CORS policy execution successful.
2025-10-24 10:44:08.970 +08:00 [INF] Executed endpoint 'EduStack.API.Controllers.EnrollmentsController.GetUserEnrollments (EduStack.API)'
2025-10-24 10:44:08.978 +08:00 [INF] Executing endpoint 'EduStack.API.Controllers.EnrollmentsController.GetUserEnrollments (EduStack.API)'
2025-10-24 10:44:08.982 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/enrollments/my-enrollments - 200 null application/json; charset=utf-8 1421.8883ms
2025-10-24 10:44:08.983 +08:00 [INF] Route matched with {action = "GetUserEnrollments", controller = "Enrollments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserEnrollments() on controller EduStack.API.Controllers.EnrollmentsController (EduStack.API).
2025-10-24 10:44:09.115 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT e.id, e.completedat, e.courseid, e.enrolledat, e.status, e.userid, c.id, c.category, c.createdat, c.description, c.duration, c.instructorid, c.ispublished, c.level, c.price, c.thumbnail, c.title, c.updatedat
FROM enrollments AS e
INNER JOIN courses AS c ON e.courseid = c.id
WHERE e.userid = @__userId_0
ORDER BY e.enrolledat DESC
2025-10-24 10:44:09.126 +08:00 [INF] Executing OkObjectResult, writing value of type 'EduStack.Core.DTOs.Common.ApiResponse`1[[System.Collections.Generic.IEnumerable`1[[EduStack.Core.DTOs.Enrollment.EnrollmentResponseDto, EduStack.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-10-24 10:44:09.133 +08:00 [INF] Executed action EduStack.API.Controllers.EnrollmentsController.GetUserEnrollments (EduStack.API) in 131.8993ms
2025-10-24 10:44:09.135 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/enrollments/my-enrollments - application/json null
2025-10-24 10:44:09.145 +08:00 [INF] Executed endpoint 'EduStack.API.Controllers.EnrollmentsController.GetUserEnrollments (EduStack.API)'
2025-10-24 10:44:09.150 +08:00 [INF] CORS policy execution successful.
2025-10-24 10:44:09.156 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/enrollments/my-enrollments - 200 null application/json; charset=utf-8 200.3719ms
2025-10-24 10:44:09.164 +08:00 [INF] Executing endpoint 'EduStack.API.Controllers.EnrollmentsController.GetUserEnrollments (EduStack.API)'
2025-10-24 10:44:09.173 +08:00 [INF] Route matched with {action = "GetUserEnrollments", controller = "Enrollments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserEnrollments() on controller EduStack.API.Controllers.EnrollmentsController (EduStack.API).
2025-10-24 10:44:09.191 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT e.id, e.completedat, e.courseid, e.enrolledat, e.status, e.userid, c.id, c.category, c.createdat, c.description, c.duration, c.instructorid, c.ispublished, c.level, c.price, c.thumbnail, c.title, c.updatedat
FROM enrollments AS e
INNER JOIN courses AS c ON e.courseid = c.id
WHERE e.userid = @__userId_0
ORDER BY e.enrolledat DESC
2025-10-24 10:44:09.201 +08:00 [INF] Executing OkObjectResult, writing value of type 'EduStack.Core.DTOs.Common.ApiResponse`1[[System.Collections.Generic.IEnumerable`1[[EduStack.Core.DTOs.Enrollment.EnrollmentResponseDto, EduStack.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-10-24 10:44:09.207 +08:00 [INF] Executed action EduStack.API.Controllers.EnrollmentsController.GetUserEnrollments (EduStack.API) in 25.3112ms
2025-10-24 10:44:09.209 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/enrollments/my-enrollments - application/json null
2025-10-24 10:44:09.217 +08:00 [INF] Executed endpoint 'EduStack.API.Controllers.EnrollmentsController.GetUserEnrollments (EduStack.API)'
2025-10-24 10:44:09.225 +08:00 [INF] CORS policy execution successful.
2025-10-24 10:44:09.227 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/enrollments/my-enrollments - 200 null application/json; charset=utf-8 92.0438ms
2025-10-24 10:44:09.238 +08:00 [INF] Executing endpoint 'EduStack.API.Controllers.EnrollmentsController.GetUserEnrollments (EduStack.API)'
2025-10-24 10:44:09.248 +08:00 [INF] Route matched with {action = "GetUserEnrollments", controller = "Enrollments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserEnrollments() on controller EduStack.API.Controllers.EnrollmentsController (EduStack.API).
2025-10-24 10:44:09.265 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT e.id, e.completedat, e.courseid, e.enrolledat, e.status, e.userid, c.id, c.category, c.createdat, c.description, c.duration, c.instructorid, c.ispublished, c.level, c.price, c.thumbnail, c.title, c.updatedat
FROM enrollments AS e
INNER JOIN courses AS c ON e.courseid = c.id
WHERE e.userid = @__userId_0
ORDER BY e.enrolledat DESC
2025-10-24 10:44:09.288 +08:00 [INF] Executing OkObjectResult, writing value of type 'EduStack.Core.DTOs.Common.ApiResponse`1[[System.Collections.Generic.IEnumerable`1[[EduStack.Core.DTOs.Enrollment.EnrollmentResponseDto, EduStack.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-10-24 10:44:09.295 +08:00 [INF] Executed action EduStack.API.Controllers.EnrollmentsController.GetUserEnrollments (EduStack.API) in 34.2593ms
2025-10-24 10:44:09.301 +08:00 [INF] Executed endpoint 'EduStack.API.Controllers.EnrollmentsController.GetUserEnrollments (EduStack.API)'
2025-10-24 10:44:09.306 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/enrollments/my-enrollments - 200 null application/json; charset=utf-8 97.3185ms
2025-10-24 10:45:17.636 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/enrollments/my-enrollments - null null
2025-10-24 10:45:17.638 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/enrollments/my-enrollments - null null
2025-10-24 10:45:17.650 +08:00 [INF] CORS policy execution successful.
2025-10-24 10:45:17.654 +08:00 [INF] CORS policy execution successful.
2025-10-24 10:45:17.657 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/enrollments/my-enrollments - 204 null null 20.598ms
2025-10-24 10:45:17.658 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/enrollments/my-enrollments - 204 null null 20.3419ms
2025-10-24 10:45:17.671 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/enrollments/my-enrollments - application/json null
2025-10-24 10:45:17.682 +08:00 [INF] CORS policy execution successful.
2025-10-24 10:45:17.685 +08:00 [INF] Executing endpoint 'EduStack.API.Controllers.EnrollmentsController.GetUserEnrollments (EduStack.API)'
2025-10-24 10:45:17.688 +08:00 [INF] Route matched with {action = "GetUserEnrollments", controller = "Enrollments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserEnrollments() on controller EduStack.API.Controllers.EnrollmentsController (EduStack.API).
2025-10-24 10:45:17.699 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT e.id, e.completedat, e.courseid, e.enrolledat, e.status, e.userid, c.id, c.category, c.createdat, c.description, c.duration, c.instructorid, c.ispublished, c.level, c.price, c.thumbnail, c.title, c.updatedat
FROM enrollments AS e
INNER JOIN courses AS c ON e.courseid = c.id
WHERE e.userid = @__userId_0
ORDER BY e.enrolledat DESC
2025-10-24 10:45:17.713 +08:00 [INF] Executing OkObjectResult, writing value of type 'EduStack.Core.DTOs.Common.ApiResponse`1[[System.Collections.Generic.IEnumerable`1[[EduStack.Core.DTOs.Enrollment.EnrollmentResponseDto, EduStack.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-10-24 10:45:17.721 +08:00 [INF] Executed action EduStack.API.Controllers.EnrollmentsController.GetUserEnrollments (EduStack.API) in 26.8386ms
2025-10-24 10:45:17.722 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/enrollments/my-enrollments - application/json null
2025-10-24 10:45:17.730 +08:00 [INF] Executed endpoint 'EduStack.API.Controllers.EnrollmentsController.GetUserEnrollments (EduStack.API)'
2025-10-24 10:45:17.733 +08:00 [INF] CORS policy execution successful.
2025-10-24 10:45:17.737 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/enrollments/my-enrollments - 200 null application/json; charset=utf-8 66.7354ms
2025-10-24 10:45:17.739 +08:00 [INF] Executing endpoint 'EduStack.API.Controllers.EnrollmentsController.GetUserEnrollments (EduStack.API)'
2025-10-24 10:45:17.751 +08:00 [INF] Route matched with {action = "GetUserEnrollments", controller = "Enrollments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserEnrollments() on controller EduStack.API.Controllers.EnrollmentsController (EduStack.API).
2025-10-24 10:45:17.759 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT e.id, e.completedat, e.courseid, e.enrolledat, e.status, e.userid, c.id, c.category, c.createdat, c.description, c.duration, c.instructorid, c.ispublished, c.level, c.price, c.thumbnail, c.title, c.updatedat
FROM enrollments AS e
INNER JOIN courses AS c ON e.courseid = c.id
WHERE e.userid = @__userId_0
ORDER BY e.enrolledat DESC
2025-10-24 10:45:17.766 +08:00 [INF] Executing OkObjectResult, writing value of type 'EduStack.Core.DTOs.Common.ApiResponse`1[[System.Collections.Generic.IEnumerable`1[[EduStack.Core.DTOs.Enrollment.EnrollmentResponseDto, EduStack.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-10-24 10:45:17.771 +08:00 [INF] Executed action EduStack.API.Controllers.EnrollmentsController.GetUserEnrollments (EduStack.API) in 14.36ms
2025-10-24 10:45:17.775 +08:00 [INF] Executed endpoint 'EduStack.API.Controllers.EnrollmentsController.GetUserEnrollments (EduStack.API)'
2025-10-24 10:45:17.778 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/enrollments/my-enrollments - 200 null application/json; charset=utf-8 56.1796ms
2025-10-24 10:45:30.076 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/enrollments/enroll/550e8400-e29b-41d4-a716-446655440100 - null null
2025-10-24 10:45:30.088 +08:00 [INF] CORS policy execution successful.
2025-10-24 10:45:30.093 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/enrollments/enroll/550e8400-e29b-41d4-a716-446655440100 - 204 null null 17.254ms
2025-10-24 10:45:30.102 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/enrollments/enroll/550e8400-e29b-41d4-a716-446655440100 - application/json 0
2025-10-24 10:45:30.111 +08:00 [INF] CORS policy execution successful.
2025-10-24 10:45:30.114 +08:00 [INF] Executing endpoint 'EduStack.API.Controllers.EnrollmentsController.EnrollInCourse (EduStack.API)'
2025-10-24 10:45:30.133 +08:00 [INF] Route matched with {action = "EnrollInCourse", controller = "Enrollments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EnrollInCourse(System.Guid) on controller EduStack.API.Controllers.EnrollmentsController (EduStack.API).
2025-10-24 10:45:30.185 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__courseId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM enrollments AS e
    WHERE e.userid = @__userId_0 AND e.courseid = @__courseId_1)
2025-10-24 10:45:30.225 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[@__courseId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT c.id, c.category, c.createdat, c.description, c.duration, c.instructorid, c.ispublished, c.level, c.price, c.thumbnail, c.title, c.updatedat
FROM courses AS c
WHERE c.id = @__courseId_0 AND c.ispublished
LIMIT 1
2025-10-24 10:45:30.555 +08:00 [INF] Executed DbCommand (17ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?', @p5='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO enrollments (id, completedat, courseid, enrolledat, status, userid)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-10-24 10:45:30.578 +08:00 [INF] User "ea21e563-4cb9-4e69-b716-17660423b601" enrolled in course "550e8400-e29b-41d4-a716-446655440100"
2025-10-24 10:45:30.582 +08:00 [INF] Executing CreatedAtActionResult, writing value of type 'EduStack.Core.DTOs.Common.ApiResponse`1[[EduStack.Core.DTOs.Enrollment.EnrollmentResponseDto, EduStack.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-24 10:45:30.611 +08:00 [INF] Executed action EduStack.API.Controllers.EnrollmentsController.EnrollInCourse (EduStack.API) in 472.5432ms
2025-10-24 10:45:30.616 +08:00 [INF] Executed endpoint 'EduStack.API.Controllers.EnrollmentsController.EnrollInCourse (EduStack.API)'
2025-10-24 10:45:30.619 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/enrollments/enroll/550e8400-e29b-41d4-a716-446655440100 - 201 null application/json; charset=utf-8 516.4781ms
2025-10-24 10:45:30.628 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/enrollments/my-enrollments - null null
2025-10-24 10:45:30.634 +08:00 [INF] CORS policy execution successful.
2025-10-24 10:45:30.637 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/enrollments/my-enrollments - 204 null null 9.0982ms
2025-10-24 10:45:30.644 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/enrollments/my-enrollments - application/json null
2025-10-24 10:45:30.652 +08:00 [INF] CORS policy execution successful.
2025-10-24 10:45:30.655 +08:00 [INF] Executing endpoint 'EduStack.API.Controllers.EnrollmentsController.GetUserEnrollments (EduStack.API)'
2025-10-24 10:45:30.658 +08:00 [INF] Route matched with {action = "GetUserEnrollments", controller = "Enrollments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserEnrollments() on controller EduStack.API.Controllers.EnrollmentsController (EduStack.API).
2025-10-24 10:45:30.667 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT e.id, e.completedat, e.courseid, e.enrolledat, e.status, e.userid, c.id, c.category, c.createdat, c.description, c.duration, c.instructorid, c.ispublished, c.level, c.price, c.thumbnail, c.title, c.updatedat
FROM enrollments AS e
INNER JOIN courses AS c ON e.courseid = c.id
WHERE e.userid = @__userId_0
ORDER BY e.enrolledat DESC
2025-10-24 10:45:30.679 +08:00 [INF] Executing OkObjectResult, writing value of type 'EduStack.Core.DTOs.Common.ApiResponse`1[[System.Collections.Generic.IEnumerable`1[[EduStack.Core.DTOs.Enrollment.EnrollmentResponseDto, EduStack.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-10-24 10:45:30.683 +08:00 [INF] Executed action EduStack.API.Controllers.EnrollmentsController.GetUserEnrollments (EduStack.API) in 20.0509ms
2025-10-24 10:45:30.687 +08:00 [INF] Executed endpoint 'EduStack.API.Controllers.EnrollmentsController.GetUserEnrollments (EduStack.API)'
2025-10-24 10:45:30.690 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/enrollments/my-enrollments - 200 null application/json; charset=utf-8 46.01ms
2025-10-24 10:45:46.292 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/enrollments/my-enrollments - null null
2025-10-24 10:45:46.292 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/enrollments/my-enrollments - null null
2025-10-24 10:45:46.302 +08:00 [INF] CORS policy execution successful.
2025-10-24 10:45:46.306 +08:00 [INF] CORS policy execution successful.
2025-10-24 10:45:46.311 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/enrollments/my-enrollments - 204 null null 18.7529ms
2025-10-24 10:45:46.312 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/enrollments/my-enrollments - 204 null null 19.728ms
2025-10-24 10:45:46.326 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/enrollments/my-enrollments - application/json null
2025-10-24 10:45:46.338 +08:00 [INF] CORS policy execution successful.
2025-10-24 10:45:46.341 +08:00 [INF] Executing endpoint 'EduStack.API.Controllers.EnrollmentsController.GetUserEnrollments (EduStack.API)'
2025-10-24 10:45:46.344 +08:00 [INF] Route matched with {action = "GetUserEnrollments", controller = "Enrollments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserEnrollments() on controller EduStack.API.Controllers.EnrollmentsController (EduStack.API).
2025-10-24 10:45:46.352 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT e.id, e.completedat, e.courseid, e.enrolledat, e.status, e.userid, c.id, c.category, c.createdat, c.description, c.duration, c.instructorid, c.ispublished, c.level, c.price, c.thumbnail, c.title, c.updatedat
FROM enrollments AS e
INNER JOIN courses AS c ON e.courseid = c.id
WHERE e.userid = @__userId_0
ORDER BY e.enrolledat DESC
2025-10-24 10:45:46.360 +08:00 [INF] Executing OkObjectResult, writing value of type 'EduStack.Core.DTOs.Common.ApiResponse`1[[System.Collections.Generic.IEnumerable`1[[EduStack.Core.DTOs.Enrollment.EnrollmentResponseDto, EduStack.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-10-24 10:45:46.366 +08:00 [INF] Executed action EduStack.API.Controllers.EnrollmentsController.GetUserEnrollments (EduStack.API) in 15.7068ms
2025-10-24 10:45:46.367 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/enrollments/my-enrollments - application/json null
2025-10-24 10:45:46.373 +08:00 [INF] Executed endpoint 'EduStack.API.Controllers.EnrollmentsController.GetUserEnrollments (EduStack.API)'
2025-10-24 10:45:46.377 +08:00 [INF] CORS policy execution successful.
2025-10-24 10:45:46.382 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/enrollments/my-enrollments - 200 null application/json; charset=utf-8 56.1119ms
2025-10-24 10:45:46.383 +08:00 [INF] Executing endpoint 'EduStack.API.Controllers.EnrollmentsController.GetUserEnrollments (EduStack.API)'
2025-10-24 10:45:46.396 +08:00 [INF] Route matched with {action = "GetUserEnrollments", controller = "Enrollments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserEnrollments() on controller EduStack.API.Controllers.EnrollmentsController (EduStack.API).
2025-10-24 10:45:46.410 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT e.id, e.completedat, e.courseid, e.enrolledat, e.status, e.userid, c.id, c.category, c.createdat, c.description, c.duration, c.instructorid, c.ispublished, c.level, c.price, c.thumbnail, c.title, c.updatedat
FROM enrollments AS e
INNER JOIN courses AS c ON e.courseid = c.id
WHERE e.userid = @__userId_0
ORDER BY e.enrolledat DESC
2025-10-24 10:45:46.422 +08:00 [INF] Executing OkObjectResult, writing value of type 'EduStack.Core.DTOs.Common.ApiResponse`1[[System.Collections.Generic.IEnumerable`1[[EduStack.Core.DTOs.Enrollment.EnrollmentResponseDto, EduStack.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-10-24 10:45:46.428 +08:00 [INF] Executed action EduStack.API.Controllers.EnrollmentsController.GetUserEnrollments (EduStack.API) in 22.2688ms
2025-10-24 10:45:46.433 +08:00 [INF] Executed endpoint 'EduStack.API.Controllers.EnrollmentsController.GetUserEnrollments (EduStack.API)'
2025-10-24 10:45:46.436 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/enrollments/my-enrollments - 200 null application/json; charset=utf-8 69.493ms
2025-10-24 10:45:48.427 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/enrollments/my-enrollments - application/json null
2025-10-24 10:45:48.435 +08:00 [INF] CORS policy execution successful.
2025-10-24 10:45:48.438 +08:00 [INF] Executing endpoint 'EduStack.API.Controllers.EnrollmentsController.GetUserEnrollments (EduStack.API)'
2025-10-24 10:45:48.442 +08:00 [INF] Route matched with {action = "GetUserEnrollments", controller = "Enrollments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserEnrollments() on controller EduStack.API.Controllers.EnrollmentsController (EduStack.API).
2025-10-24 10:45:48.451 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT e.id, e.completedat, e.courseid, e.enrolledat, e.status, e.userid, c.id, c.category, c.createdat, c.description, c.duration, c.instructorid, c.ispublished, c.level, c.price, c.thumbnail, c.title, c.updatedat
FROM enrollments AS e
INNER JOIN courses AS c ON e.courseid = c.id
WHERE e.userid = @__userId_0
ORDER BY e.enrolledat DESC
2025-10-24 10:45:48.460 +08:00 [INF] Executing OkObjectResult, writing value of type 'EduStack.Core.DTOs.Common.ApiResponse`1[[System.Collections.Generic.IEnumerable`1[[EduStack.Core.DTOs.Enrollment.EnrollmentResponseDto, EduStack.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-10-24 10:45:48.466 +08:00 [INF] Executed action EduStack.API.Controllers.EnrollmentsController.GetUserEnrollments (EduStack.API) in 17.948ms
2025-10-24 10:45:48.468 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/enrollments/my-enrollments - application/json null
2025-10-24 10:45:48.473 +08:00 [INF] Executed endpoint 'EduStack.API.Controllers.EnrollmentsController.GetUserEnrollments (EduStack.API)'
2025-10-24 10:45:48.483 +08:00 [INF] CORS policy execution successful.
2025-10-24 10:45:48.484 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/enrollments/my-enrollments - 200 null application/json; charset=utf-8 57.3503ms
2025-10-24 10:45:48.492 +08:00 [INF] Executing endpoint 'EduStack.API.Controllers.EnrollmentsController.GetUserEnrollments (EduStack.API)'
2025-10-24 10:45:48.501 +08:00 [INF] Route matched with {action = "GetUserEnrollments", controller = "Enrollments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserEnrollments() on controller EduStack.API.Controllers.EnrollmentsController (EduStack.API).
2025-10-24 10:45:48.509 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT e.id, e.completedat, e.courseid, e.enrolledat, e.status, e.userid, c.id, c.category, c.createdat, c.description, c.duration, c.instructorid, c.ispublished, c.level, c.price, c.thumbnail, c.title, c.updatedat
FROM enrollments AS e
INNER JOIN courses AS c ON e.courseid = c.id
WHERE e.userid = @__userId_0
ORDER BY e.enrolledat DESC
2025-10-24 10:45:48.519 +08:00 [INF] Executing OkObjectResult, writing value of type 'EduStack.Core.DTOs.Common.ApiResponse`1[[System.Collections.Generic.IEnumerable`1[[EduStack.Core.DTOs.Enrollment.EnrollmentResponseDto, EduStack.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-10-24 10:45:48.524 +08:00 [INF] Executed action EduStack.API.Controllers.EnrollmentsController.GetUserEnrollments (EduStack.API) in 17.602ms
2025-10-24 10:45:48.528 +08:00 [INF] Executed endpoint 'EduStack.API.Controllers.EnrollmentsController.GetUserEnrollments (EduStack.API)'
2025-10-24 10:45:48.533 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/enrollments/my-enrollments - 200 null application/json; charset=utf-8 65.431ms
2025-10-24 11:01:53.757 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/enrollments/my-enrollments - null null
2025-10-24 11:01:53.765 +08:00 [INF] CORS policy execution successful.
2025-10-24 11:01:53.768 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/enrollments/my-enrollments - 204 null null 10.8067ms
2025-10-24 11:01:53.780 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/enrollments/my-enrollments - application/json null
2025-10-24 11:01:53.788 +08:00 [INF] CORS policy execution successful.
2025-10-24 11:01:53.791 +08:00 [INF] Executing endpoint 'EduStack.API.Controllers.EnrollmentsController.GetUserEnrollments (EduStack.API)'
2025-10-24 11:01:53.795 +08:00 [INF] Route matched with {action = "GetUserEnrollments", controller = "Enrollments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserEnrollments() on controller EduStack.API.Controllers.EnrollmentsController (EduStack.API).
2025-10-24 11:01:53.874 +08:00 [INF] Executed DbCommand (15ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT e.id, e.completedat, e.courseid, e.enrolledat, e.status, e.userid, c.id, c.category, c.createdat, c.description, c.duration, c.instructorid, c.ispublished, c.level, c.price, c.thumbnail, c.title, c.updatedat
FROM enrollments AS e
INNER JOIN courses AS c ON e.courseid = c.id
WHERE e.userid = @__userId_0
ORDER BY e.enrolledat DESC
2025-10-24 11:01:53.883 +08:00 [INF] Executing OkObjectResult, writing value of type 'EduStack.Core.DTOs.Common.ApiResponse`1[[System.Collections.Generic.IEnumerable`1[[EduStack.Core.DTOs.Enrollment.EnrollmentResponseDto, EduStack.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-10-24 11:01:53.889 +08:00 [INF] Executed action EduStack.API.Controllers.EnrollmentsController.GetUserEnrollments (EduStack.API) in 88.1967ms
2025-10-24 11:01:53.894 +08:00 [INF] Executed endpoint 'EduStack.API.Controllers.EnrollmentsController.GetUserEnrollments (EduStack.API)'
2025-10-24 11:01:53.898 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/enrollments/my-enrollments - 200 null application/json; charset=utf-8 118.0925ms
2025-10-24 11:02:59.513 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/enrollments/my-enrollments - null null
2025-10-24 11:02:59.516 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/enrollments/my-enrollments - null null
2025-10-24 11:02:59.524 +08:00 [INF] CORS policy execution successful.
2025-10-24 11:02:59.529 +08:00 [INF] CORS policy execution successful.
2025-10-24 11:02:59.533 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/enrollments/my-enrollments - 204 null null 20.4767ms
2025-10-24 11:02:59.534 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/enrollments/my-enrollments - 204 null null 18.2229ms
2025-10-24 11:02:59.553 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/enrollments/my-enrollments - application/json null
2025-10-24 11:02:59.561 +08:00 [INF] CORS policy execution successful.
2025-10-24 11:02:59.564 +08:00 [INF] Executing endpoint 'EduStack.API.Controllers.EnrollmentsController.GetUserEnrollments (EduStack.API)'
2025-10-24 11:02:59.568 +08:00 [INF] Route matched with {action = "GetUserEnrollments", controller = "Enrollments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserEnrollments() on controller EduStack.API.Controllers.EnrollmentsController (EduStack.API).
2025-10-24 11:02:59.578 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT e.id, e.completedat, e.courseid, e.enrolledat, e.status, e.userid, c.id, c.category, c.createdat, c.description, c.duration, c.instructorid, c.ispublished, c.level, c.price, c.thumbnail, c.title, c.updatedat
FROM enrollments AS e
INNER JOIN courses AS c ON e.courseid = c.id
WHERE e.userid = @__userId_0
ORDER BY e.enrolledat DESC
2025-10-24 11:02:59.586 +08:00 [INF] Executing OkObjectResult, writing value of type 'EduStack.Core.DTOs.Common.ApiResponse`1[[System.Collections.Generic.IEnumerable`1[[EduStack.Core.DTOs.Enrollment.EnrollmentResponseDto, EduStack.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-10-24 11:02:59.590 +08:00 [INF] Executed action EduStack.API.Controllers.EnrollmentsController.GetUserEnrollments (EduStack.API) in 16.5197ms
2025-10-24 11:02:59.592 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/enrollments/my-enrollments - application/json null
2025-10-24 11:02:59.598 +08:00 [INF] Executed endpoint 'EduStack.API.Controllers.EnrollmentsController.GetUserEnrollments (EduStack.API)'
2025-10-24 11:02:59.603 +08:00 [INF] CORS policy execution successful.
2025-10-24 11:02:59.612 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/enrollments/my-enrollments - 200 null application/json; charset=utf-8 58.9941ms
2025-10-24 11:02:59.614 +08:00 [INF] Executing endpoint 'EduStack.API.Controllers.EnrollmentsController.GetUserEnrollments (EduStack.API)'
2025-10-24 11:02:59.629 +08:00 [INF] Route matched with {action = "GetUserEnrollments", controller = "Enrollments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserEnrollments() on controller EduStack.API.Controllers.EnrollmentsController (EduStack.API).
2025-10-24 11:02:59.638 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT e.id, e.completedat, e.courseid, e.enrolledat, e.status, e.userid, c.id, c.category, c.createdat, c.description, c.duration, c.instructorid, c.ispublished, c.level, c.price, c.thumbnail, c.title, c.updatedat
FROM enrollments AS e
INNER JOIN courses AS c ON e.courseid = c.id
WHERE e.userid = @__userId_0
ORDER BY e.enrolledat DESC
2025-10-24 11:02:59.647 +08:00 [INF] Executing OkObjectResult, writing value of type 'EduStack.Core.DTOs.Common.ApiResponse`1[[System.Collections.Generic.IEnumerable`1[[EduStack.Core.DTOs.Enrollment.EnrollmentResponseDto, EduStack.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-10-24 11:02:59.652 +08:00 [INF] Executed action EduStack.API.Controllers.EnrollmentsController.GetUserEnrollments (EduStack.API) in 16.6028ms
2025-10-24 11:02:59.656 +08:00 [INF] Executed endpoint 'EduStack.API.Controllers.EnrollmentsController.GetUserEnrollments (EduStack.API)'
2025-10-24 11:02:59.661 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/enrollments/my-enrollments - 200 null application/json; charset=utf-8 68.488ms
2025-10-24 11:03:45.081 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/auth/register - null null
2025-10-24 11:03:45.090 +08:00 [INF] CORS policy execution successful.
2025-10-24 11:03:45.094 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/auth/register - 204 null null 12.5802ms
2025-10-24 11:03:45.102 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/auth/register - application/json 103
2025-10-24 11:03:45.111 +08:00 [INF] CORS policy execution successful.
2025-10-24 11:03:45.114 +08:00 [INF] Executing endpoint 'EduStack.API.Controllers.AuthController.Register (EduStack.API)'
2025-10-24 11:03:45.125 +08:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(EduStack.Core.DTOs.Auth.RegisterUserDto) on controller EduStack.API.Controllers.AuthController (EduStack.API).
2025-10-24 11:03:45.278 +08:00 [INF] Executed DbCommand (7ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM users AS u
    WHERE u.email = @__email_0)
2025-10-24 11:03:45.699 +08:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?', @p6='?', @p7='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO users (id, avatar, createdat, email, fullname, passwordhash, role, updatedat)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING isactive;
2025-10-24 11:03:45.732 +08:00 [INF] User registered successfully: thihanaing1842003@gmail.com
2025-10-24 11:03:45.736 +08:00 [INF] Executing CreatedAtActionResult, writing value of type 'EduStack.Core.DTOs.Common.ApiResponse`1[[EduStack.Core.DTOs.Auth.LoginResponseDto, EduStack.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-24 11:03:45.744 +08:00 [INF] Executed action EduStack.API.Controllers.AuthController.Register (EduStack.API) in 613.7128ms
2025-10-24 11:03:45.748 +08:00 [INF] Executed endpoint 'EduStack.API.Controllers.AuthController.Register (EduStack.API)'
2025-10-24 11:03:45.751 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/auth/register - 201 null application/json; charset=utf-8 648.809ms
2025-10-24 11:04:12.065 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/auth/login - null null
2025-10-24 11:04:12.076 +08:00 [INF] CORS policy execution successful.
2025-10-24 11:04:12.079 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/auth/login - 204 null null 14.2577ms
2025-10-24 11:04:12.098 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/auth/login - application/json 59
2025-10-24 11:04:12.106 +08:00 [INF] CORS policy execution successful.
2025-10-24 11:04:12.110 +08:00 [INF] Executing endpoint 'EduStack.API.Controllers.AuthController.Login (EduStack.API)'
2025-10-24 11:04:12.117 +08:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(EduStack.Core.DTOs.Auth.LoginUserDto) on controller EduStack.API.Controllers.AuthController (EduStack.API).
2025-10-24 11:04:12.142 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__loginDto_Email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u.id, u.avatar, u.createdat, u.email, u.fullname, u.isactive, u.passwordhash, u.role, u.updatedat
FROM users AS u
WHERE u.email = @__loginDto_Email_0 AND u.isactive
LIMIT 1
2025-10-24 11:04:12.363 +08:00 [INF] User logged in successfully: thihanaing1842003@gmail.com
2025-10-24 11:04:12.366 +08:00 [INF] Executing OkObjectResult, writing value of type 'EduStack.Core.DTOs.Common.ApiResponse`1[[EduStack.Core.DTOs.Auth.LoginResponseDto, EduStack.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-24 11:04:12.371 +08:00 [INF] Executed action EduStack.API.Controllers.AuthController.Login (EduStack.API) in 247.3123ms
2025-10-24 11:04:12.375 +08:00 [INF] Executed endpoint 'EduStack.API.Controllers.AuthController.Login (EduStack.API)'
2025-10-24 11:04:12.378 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/auth/login - 200 null application/json; charset=utf-8 280.7344ms
2025-10-24 11:04:15.254 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/courses/my-courses - null null
2025-10-24 11:04:15.255 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/courses/my-courses - null null
2025-10-24 11:04:15.264 +08:00 [INF] CORS policy execution successful.
2025-10-24 11:04:15.270 +08:00 [INF] CORS policy execution successful.
2025-10-24 11:04:15.272 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/courses/my-courses - 204 null null 17.9476ms
2025-10-24 11:04:15.273 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/courses/my-courses - 204 null null 18.6066ms
2025-10-24 11:04:15.293 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/courses/my-courses - application/json null
2025-10-24 11:04:15.300 +08:00 [INF] CORS policy execution successful.
2025-10-24 11:04:15.307 +08:00 [INF] Executing endpoint 'EduStack.API.Controllers.CoursesController.GetCourseById (EduStack.API)'
2025-10-24 11:04:15.316 +08:00 [INF] Route matched with {action = "GetCourseById", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourseById(System.Guid) on controller EduStack.API.Controllers.CoursesController (EduStack.API).
2025-10-24 11:04:15.327 +08:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-10-24 11:04:15.358 +08:00 [INF] Executed action EduStack.API.Controllers.CoursesController.GetCourseById (EduStack.API) in 35.0485ms
2025-10-24 11:04:15.360 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/courses/my-courses - application/json null
2025-10-24 11:04:15.366 +08:00 [INF] Executed endpoint 'EduStack.API.Controllers.CoursesController.GetCourseById (EduStack.API)'
2025-10-24 11:04:15.370 +08:00 [INF] CORS policy execution successful.
2025-10-24 11:04:15.374 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/courses/my-courses - 400 null application/problem+json; charset=utf-8 81.7072ms
2025-10-24 11:04:15.376 +08:00 [INF] Executing endpoint 'EduStack.API.Controllers.CoursesController.GetCourseById (EduStack.API)'
2025-10-24 11:04:15.389 +08:00 [INF] Route matched with {action = "GetCourseById", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourseById(System.Guid) on controller EduStack.API.Controllers.CoursesController (EduStack.API).
2025-10-24 11:04:15.396 +08:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-10-24 11:04:15.400 +08:00 [INF] Executed action EduStack.API.Controllers.CoursesController.GetCourseById (EduStack.API) in 5.366ms
2025-10-24 11:04:15.405 +08:00 [INF] Executed endpoint 'EduStack.API.Controllers.CoursesController.GetCourseById (EduStack.API)'
2025-10-24 11:04:15.408 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/courses/my-courses - 400 null application/problem+json; charset=utf-8 47.8052ms
2025-10-24 11:05:48.661 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/courses - null null
2025-10-24 11:05:48.669 +08:00 [INF] CORS policy execution successful.
2025-10-24 11:05:48.672 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/courses - 204 null null 11.4273ms
2025-10-24 11:05:48.685 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/courses - application/json 254
2025-10-24 11:05:48.694 +08:00 [INF] CORS policy execution successful.
2025-10-24 11:05:48.697 +08:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2025-10-24 11:05:48.701 +08:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2025-10-24 11:05:48.704 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/courses - 405 0 null 19.9085ms
2025-10-24 11:05:49.687 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/courses - application/json 254
2025-10-24 11:05:49.694 +08:00 [INF] CORS policy execution successful.
2025-10-24 11:05:49.697 +08:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2025-10-24 11:05:49.700 +08:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2025-10-24 11:05:49.705 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/courses - 405 0 null 17.6847ms
2025-10-24 11:05:49.895 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/courses - application/json 254
2025-10-24 11:05:49.904 +08:00 [INF] CORS policy execution successful.
2025-10-24 11:05:49.907 +08:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2025-10-24 11:05:49.909 +08:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2025-10-24 11:05:49.912 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/courses - 405 0 null 17.053ms
2025-10-24 11:06:05.665 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/courses - null null
2025-10-24 11:06:05.672 +08:00 [INF] CORS policy execution successful.
2025-10-24 11:06:05.675 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/courses - 204 null null 9.318ms
2025-10-24 11:06:05.683 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/courses - application/json 254
2025-10-24 11:06:05.691 +08:00 [INF] CORS policy execution successful.
2025-10-24 11:06:05.695 +08:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2025-10-24 11:06:05.698 +08:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2025-10-24 11:06:05.702 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/courses - 405 0 null 18.4294ms
2025-10-24 11:07:20.132 +08:00 [INF] Application is shutting down...
2025-10-24 11:07:56.900 +08:00 [INF] Testing database connection...
2025-10-24 11:07:58.049 +08:00 [INF] Database connection test: true
2025-10-24 11:07:58.071 +08:00 [INF] Database connection successful
2025-10-24 11:07:58.093 +08:00 [INF] EduStack API starting up...
2025-10-24 11:07:58.123 +08:00 [INF] User profile is available. Using 'C:\Users\TUF\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-24 11:07:58.254 +08:00 [INF] Now listening on: http://localhost:5000
2025-10-24 11:07:58.257 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-24 11:07:58.263 +08:00 [INF] Hosting environment: Development
2025-10-24 11:07:58.266 +08:00 [INF] Content root path: C:\xampp\htdocs\EduStack-eLearning-Website\EduStack-Backend\EduStack.API
2025-10-24 11:07:59.877 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/health - null null
2025-10-24 11:07:59.925 +08:00 [WRN] Failed to determine the https port for redirect.
2025-10-24 11:07:59.954 +08:00 [INF] Executing endpoint 'HTTP: GET /health'
2025-10-24 11:07:59.962 +08:00 [INF] Executed endpoint 'HTTP: GET /health'
2025-10-24 11:07:59.968 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/health - 200 null application/json; charset=utf-8 91.8412ms
2025-10-24 11:08:06.652 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/courses/all - null null
2025-10-24 11:08:06.664 +08:00 [INF] Executing endpoint 'EduStack.API.Controllers.CoursesController.GetAllCourses (EduStack.API)'
2025-10-24 11:08:06.691 +08:00 [INF] Route matched with {action = "GetAllCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCourses() on controller EduStack.API.Controllers.CoursesController (EduStack.API).
2025-10-24 11:08:07.171 +08:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-10-24 11:08:07.361 +08:00 [ERR] Failed executing DbCommand (42ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c.id, c.category, c.createdat, c.description, c.duration, c.instructorid, c.ispublished, c.level, c.price, c.thumbnail, c.title, c.updatedat, u.id, u.avatar, u.createdat, u.email, u.fullname, u.isactive, u.passwordhash, u.role, u.updatedat, r.id, r.comment, r.courseid, r.createdat, r.rating, r.updatedat, r.userid, e.id, e.completedat, e.courseid, e.enrolledat, e.status, e.userid, l.id, l.courseid, l.createdat, l.description, l.duration, l.ispublished, l."order", l.title, l.updatedat, l.videourl
FROM courses AS c
INNER JOIN users AS u ON c.instructorid = u.id
LEFT JOIN reviews AS r ON c.id = r.courseid
LEFT JOIN enrollments AS e ON c.id = e.courseid
LEFT JOIN lessons AS l ON c.id = l.courseid
WHERE c.ispublished
ORDER BY c.id, u.id, r.id, e.id
2025-10-24 11:08:07.399 +08:00 [ERR] An exception occurred while iterating over the results of a query for context type 'EduStack.Infrastructure.Data.EduStackDbContext'.
Npgsql.PostgresException (0x80004005): 42703: column l.order does not exist

POSITION: 464
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column l.order does not exist
    Position: 464
    File: parse_relation.c
    Line: 3675
    Routine: errorMissingColumn
Npgsql.PostgresException (0x80004005): 42703: column l.order does not exist

POSITION: 464
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column l.order does not exist
    Position: 464
    File: parse_relation.c
    Line: 3675
    Routine: errorMissingColumn
2025-10-24 11:08:07.436 +08:00 [ERR] Error retrieving all courses
Npgsql.PostgresException (0x80004005): 42703: column l.order does not exist

POSITION: 464
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at EduStack.Infrastructure.Services.CourseService.GetAllCoursesAsync() in C:\xampp\htdocs\EduStack-eLearning-Website\EduStack-Backend\EduStack.Infrastructure\Services\CourseService.cs:line 22
   at EduStack.API.Controllers.CoursesController.GetAllCourses() in C:\xampp\htdocs\EduStack-eLearning-Website\EduStack-Backend\EduStack.API\Controllers\CoursesController.cs:line 33
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column l.order does not exist
    Position: 464
    File: parse_relation.c
    Line: 3675
    Routine: errorMissingColumn
2025-10-24 11:08:07.507 +08:00 [INF] Executing ObjectResult, writing value of type 'EduStack.Core.DTOs.Common.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-10-24 11:08:07.529 +08:00 [INF] Executed action EduStack.API.Controllers.CoursesController.GetAllCourses (EduStack.API) in 828.2986ms
2025-10-24 11:08:07.533 +08:00 [INF] Executed endpoint 'EduStack.API.Controllers.CoursesController.GetAllCourses (EduStack.API)'
2025-10-24 11:08:07.541 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/courses/all - 500 null application/json; charset=utf-8 889.5563ms
2025-10-24 11:08:37.627 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/health - null null
2025-10-24 11:08:37.646 +08:00 [INF] Executing endpoint 'HTTP: GET /health'
2025-10-24 11:08:37.650 +08:00 [INF] Executed endpoint 'HTTP: GET /health'
2025-10-24 11:08:37.654 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/health - 200 null application/json; charset=utf-8 27.1241ms
2025-10-24 11:08:43.881 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/courses/all - null null
2025-10-24 11:08:43.892 +08:00 [INF] Executing endpoint 'EduStack.API.Controllers.CoursesController.GetAllCourses (EduStack.API)'
2025-10-24 11:08:43.896 +08:00 [INF] Route matched with {action = "GetAllCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCourses() on controller EduStack.API.Controllers.CoursesController (EduStack.API).
2025-10-24 11:08:43.992 +08:00 [ERR] Failed executing DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c.id, c.category, c.createdat, c.description, c.duration, c.instructorid, c.ispublished, c.level, c.price, c.thumbnail, c.title, c.updatedat, u.id, u.avatar, u.createdat, u.email, u.fullname, u.isactive, u.passwordhash, u.role, u.updatedat, r.id, r.comment, r.courseid, r.createdat, r.rating, r.updatedat, r.userid, e.id, e.completedat, e.courseid, e.enrolledat, e.status, e.userid, l.id, l.courseid, l.createdat, l.description, l.duration, l.ispublished, l."order", l.title, l.updatedat, l.videourl
FROM courses AS c
INNER JOIN users AS u ON c.instructorid = u.id
LEFT JOIN reviews AS r ON c.id = r.courseid
LEFT JOIN enrollments AS e ON c.id = e.courseid
LEFT JOIN lessons AS l ON c.id = l.courseid
WHERE c.ispublished
ORDER BY c.id, u.id, r.id, e.id
2025-10-24 11:08:44.001 +08:00 [ERR] An exception occurred while iterating over the results of a query for context type 'EduStack.Infrastructure.Data.EduStackDbContext'.
Npgsql.PostgresException (0x80004005): 42703: column l.order does not exist

POSITION: 464
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column l.order does not exist
    Position: 464
    File: parse_relation.c
    Line: 3675
    Routine: errorMissingColumn
Npgsql.PostgresException (0x80004005): 42703: column l.order does not exist

POSITION: 464
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column l.order does not exist
    Position: 464
    File: parse_relation.c
    Line: 3675
    Routine: errorMissingColumn
2025-10-24 11:08:44.032 +08:00 [ERR] Error retrieving all courses
Npgsql.PostgresException (0x80004005): 42703: column l.order does not exist

POSITION: 464
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at EduStack.Infrastructure.Services.CourseService.GetAllCoursesAsync() in C:\xampp\htdocs\EduStack-eLearning-Website\EduStack-Backend\EduStack.Infrastructure\Services\CourseService.cs:line 22
   at EduStack.API.Controllers.CoursesController.GetAllCourses() in C:\xampp\htdocs\EduStack-eLearning-Website\EduStack-Backend\EduStack.API\Controllers\CoursesController.cs:line 33
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column l.order does not exist
    Position: 464
    File: parse_relation.c
    Line: 3675
    Routine: errorMissingColumn
2025-10-24 11:08:44.064 +08:00 [INF] Executing ObjectResult, writing value of type 'EduStack.Core.DTOs.Common.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-10-24 11:08:44.068 +08:00 [INF] Executed action EduStack.API.Controllers.CoursesController.GetAllCourses (EduStack.API) in 166.9412ms
2025-10-24 11:08:44.072 +08:00 [INF] Executed endpoint 'EduStack.API.Controllers.CoursesController.GetAllCourses (EduStack.API)'
2025-10-24 11:08:44.074 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/courses/all - 500 null application/json; charset=utf-8 193.2601ms
2025-10-24 11:08:56.124 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/courses/featured - null null
2025-10-24 11:08:56.134 +08:00 [INF] Executing endpoint 'EduStack.API.Controllers.CoursesController.GetFeaturedCourses (EduStack.API)'
2025-10-24 11:08:56.143 +08:00 [INF] Route matched with {action = "GetFeaturedCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFeaturedCourses() on controller EduStack.API.Controllers.CoursesController (EduStack.API).
2025-10-24 11:08:56.217 +08:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-10-24 11:08:56.281 +08:00 [ERR] Failed executing DbCommand (37ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.category, t.createdat, t.description, t.duration, t.instructorid, t.ispublished, t.level, t.price, t.thumbnail, t.title, t.updatedat, u.id, u.avatar, u.createdat, u.email, u.fullname, u.isactive, u.passwordhash, u.role, u.updatedat, r.id, r.comment, r.courseid, r.createdat, r.rating, r.updatedat, r.userid, e0.id, e0.completedat, e0.courseid, e0.enrolledat, e0.status, e0.userid, l.id, l.courseid, l.createdat, l.description, l.duration, l.ispublished, l."order", l.title, l.updatedat, l.videourl
FROM (
    SELECT c.id, c.category, c.createdat, c.description, c.duration, c.instructorid, c.ispublished, c.level, c.price, c.thumbnail, c.title, c.updatedat, (
        SELECT count(*)::int
        FROM enrollments AS e
        WHERE c.id = e.courseid) AS c
    FROM courses AS c
    WHERE c.ispublished
    ORDER BY (
        SELECT count(*)::int
        FROM enrollments AS e
        WHERE c.id = e.courseid) DESC
    LIMIT @__p_0
) AS t
INNER JOIN users AS u ON t.instructorid = u.id
LEFT JOIN reviews AS r ON t.id = r.courseid
LEFT JOIN enrollments AS e0 ON t.id = e0.courseid
LEFT JOIN lessons AS l ON t.id = l.courseid
ORDER BY t.c DESC, t.id, u.id, r.id, e0.id
2025-10-24 11:08:56.289 +08:00 [ERR] An exception occurred while iterating over the results of a query for context type 'EduStack.Infrastructure.Data.EduStackDbContext'.
Npgsql.PostgresException (0x80004005): 42703: column l.order does not exist

POSITION: 470
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column l.order does not exist
    Position: 470
    File: parse_relation.c
    Line: 3675
    Routine: errorMissingColumn
Npgsql.PostgresException (0x80004005): 42703: column l.order does not exist

POSITION: 470
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column l.order does not exist
    Position: 470
    File: parse_relation.c
    Line: 3675
    Routine: errorMissingColumn
2025-10-24 11:08:56.309 +08:00 [ERR] Error retrieving featured courses
Npgsql.PostgresException (0x80004005): 42703: column l.order does not exist

POSITION: 470
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at EduStack.Infrastructure.Services.CourseService.GetFeaturedCoursesAsync() in C:\xampp\htdocs\EduStack-eLearning-Website\EduStack-Backend\EduStack.Infrastructure\Services\CourseService.cs:line 35
   at EduStack.API.Controllers.CoursesController.GetFeaturedCourses() in C:\xampp\htdocs\EduStack-eLearning-Website\EduStack-Backend\EduStack.API\Controllers\CoursesController.cs:line 53
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column l.order does not exist
    Position: 470
    File: parse_relation.c
    Line: 3675
    Routine: errorMissingColumn
2025-10-24 11:08:56.328 +08:00 [INF] Executing ObjectResult, writing value of type 'EduStack.Core.DTOs.Common.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-10-24 11:08:56.332 +08:00 [INF] Executed action EduStack.API.Controllers.CoursesController.GetFeaturedCourses (EduStack.API) in 183.9255ms
2025-10-24 11:08:56.334 +08:00 [INF] Executed endpoint 'EduStack.API.Controllers.CoursesController.GetFeaturedCourses (EduStack.API)'
2025-10-24 11:08:56.339 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/courses/featured - 500 null application/json; charset=utf-8 214.4538ms
2025-10-24 11:09:08.227 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/db-info - null null
2025-10-24 11:09:08.236 +08:00 [INF] Executing endpoint 'HTTP: GET /db-info'
2025-10-24 11:09:08.312 +08:00 [INF] Executed endpoint 'HTTP: GET /db-info'
2025-10-24 11:09:08.315 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/db-info - 200 null application/json; charset=utf-8 88.3227ms
2025-10-24 11:10:21.136 +08:00 [INF] Application is shutting down...
