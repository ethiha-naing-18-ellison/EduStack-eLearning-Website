2025-10-23 22:13:03.164 +08:00 [INF] Testing database connection...
2025-10-23 22:13:04.479 +08:00 [INF] Database connection test: true
2025-10-23 22:13:04.486 +08:00 [INF] Database connection successful
2025-10-23 22:13:04.494 +08:00 [INF] EduStack API starting up...
2025-10-23 22:13:04.521 +08:00 [INF] User profile is available. Using 'C:\Users\TUF\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-23 22:13:04.630 +08:00 [INF] Now listening on: http://localhost:5000
2025-10-23 22:13:04.634 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-23 22:13:04.641 +08:00 [INF] Hosting environment: Development
2025-10-23 22:13:04.644 +08:00 [INF] Content root path: C:\xampp\htdocs\EduStack-eLearning-Website\EduStack-Backend\EduStack.API
2025-10-23 22:13:05.235 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/index.html - null null
2025-10-23 22:13:05.384 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/index.html - 200 null text/html;charset=utf-8 148.5518ms
2025-10-23 22:13:05.676 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json - null null
2025-10-23 22:13:05.916 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 240.6948ms
2025-10-23 22:13:13.325 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/Auth/register - application/json 129
2025-10-23 22:13:13.353 +08:00 [WRN] Failed to determine the https port for redirect.
2025-10-23 22:13:13.358 +08:00 [INF] CORS policy execution failed.
2025-10-23 22:13:13.361 +08:00 [INF] Request origin http://localhost:5000 does not have permission to access the resource.
2025-10-23 22:13:13.402 +08:00 [INF] Executing endpoint 'EduStack.API.Controllers.AuthController.Register (EduStack.API)'
2025-10-23 22:13:13.428 +08:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(EduStack.Core.DTOs.Auth.RegisterUserDto) on controller EduStack.API.Controllers.AuthController (EduStack.API).
2025-10-23 22:13:13.979 +08:00 [INF] Executed DbCommand (60ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM users AS u
    WHERE u.email = @__email_0)
2025-10-23 22:13:14.966 +08:00 [INF] Executed DbCommand (14ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?', @p6='?', @p7='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO users (id, avatar, createdat, email, fullname, passwordhash, role, updatedat)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING isactive;
2025-10-23 22:13:15.046 +08:00 [INF] User registered successfully: thihanaing@gmail.com
2025-10-23 22:13:15.060 +08:00 [INF] Executing CreatedAtActionResult, writing value of type 'EduStack.Core.DTOs.Common.ApiResponse`1[[EduStack.Core.DTOs.Auth.LoginResponseDto, EduStack.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-23 22:13:15.107 +08:00 [INF] Executed action EduStack.API.Controllers.AuthController.Register (EduStack.API) in 1667.5495ms
2025-10-23 22:13:15.112 +08:00 [INF] Executed endpoint 'EduStack.API.Controllers.AuthController.Register (EduStack.API)'
2025-10-23 22:13:15.121 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/Auth/register - 201 null application/json; charset=utf-8 1796.3516ms
2025-10-23 22:14:06.723 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/auth/register - null null
2025-10-23 22:14:06.735 +08:00 [INF] CORS policy execution successful.
2025-10-23 22:14:06.741 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/auth/register - 204 null null 17.9577ms
2025-10-23 22:14:06.754 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/auth/register - application/json 101
2025-10-23 22:14:06.765 +08:00 [INF] CORS policy execution successful.
2025-10-23 22:14:06.770 +08:00 [INF] Executing endpoint 'EduStack.API.Controllers.AuthController.Register (EduStack.API)'
2025-10-23 22:14:06.774 +08:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(EduStack.Core.DTOs.Auth.RegisterUserDto) on controller EduStack.API.Controllers.AuthController (EduStack.API).
2025-10-23 22:14:06.861 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM users AS u
    WHERE u.email = @__email_0)
2025-10-23 22:14:07.332 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?', @p6='?', @p7='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO users (id, avatar, createdat, email, fullname, passwordhash, role, updatedat)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING isactive;
2025-10-23 22:14:07.340 +08:00 [INF] User registered successfully: ellisonthihanaing@gmail.com
2025-10-23 22:14:07.343 +08:00 [INF] Executing CreatedAtActionResult, writing value of type 'EduStack.Core.DTOs.Common.ApiResponse`1[[EduStack.Core.DTOs.Auth.LoginResponseDto, EduStack.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-23 22:14:07.347 +08:00 [INF] Executed action EduStack.API.Controllers.AuthController.Register (EduStack.API) in 567.6709ms
2025-10-23 22:14:07.352 +08:00 [INF] Executed endpoint 'EduStack.API.Controllers.AuthController.Register (EduStack.API)'
2025-10-23 22:14:07.355 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/auth/register - 201 null application/json; charset=utf-8 600.8645ms
2025-10-23 22:14:23.709 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/auth/login - null null
2025-10-23 22:14:23.721 +08:00 [INF] CORS policy execution successful.
2025-10-23 22:14:23.724 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/auth/login - 204 null null 14.6722ms
2025-10-23 22:14:23.735 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/auth/login - application/json 59
2025-10-23 22:14:23.744 +08:00 [INF] CORS policy execution successful.
2025-10-23 22:14:23.749 +08:00 [INF] Executing endpoint 'EduStack.API.Controllers.AuthController.Login (EduStack.API)'
2025-10-23 22:14:23.758 +08:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(EduStack.Core.DTOs.Auth.LoginUserDto) on controller EduStack.API.Controllers.AuthController (EduStack.API).
2025-10-23 22:14:23.829 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__loginDto_Email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u.id, u.avatar, u.createdat, u.email, u.fullname, u.isactive, u.passwordhash, u.role, u.updatedat
FROM users AS u
WHERE u.email = @__loginDto_Email_0 AND u.isactive
LIMIT 1
2025-10-23 22:14:24.061 +08:00 [INF] User logged in successfully: ellisonthihanaing@gmail.com
2025-10-23 22:14:24.064 +08:00 [INF] Executing OkObjectResult, writing value of type 'EduStack.Core.DTOs.Common.ApiResponse`1[[EduStack.Core.DTOs.Auth.LoginResponseDto, EduStack.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-23 22:14:24.067 +08:00 [INF] Executed action EduStack.API.Controllers.AuthController.Login (EduStack.API) in 301.9656ms
2025-10-23 22:14:24.071 +08:00 [INF] Executed endpoint 'EduStack.API.Controllers.AuthController.Login (EduStack.API)'
2025-10-23 22:14:24.074 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/auth/login - 200 null application/json; charset=utf-8 339.5379ms
2025-10-23 23:24:25.784 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/auth/login - null null
2025-10-23 23:24:25.793 +08:00 [INF] CORS policy execution successful.
2025-10-23 23:24:25.796 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/auth/login - 204 null null 12.2208ms
2025-10-23 23:24:25.808 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/auth/login - application/json 59
2025-10-23 23:24:25.819 +08:00 [INF] CORS policy execution successful.
2025-10-23 23:24:25.822 +08:00 [INF] Executing endpoint 'EduStack.API.Controllers.AuthController.Login (EduStack.API)'
2025-10-23 23:24:25.826 +08:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(EduStack.Core.DTOs.Auth.LoginUserDto) on controller EduStack.API.Controllers.AuthController (EduStack.API).
2025-10-23 23:24:25.902 +08:00 [INF] Executed DbCommand (8ms) [Parameters=[@__loginDto_Email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u.id, u.avatar, u.createdat, u.email, u.fullname, u.isactive, u.passwordhash, u.role, u.updatedat
FROM users AS u
WHERE u.email = @__loginDto_Email_0 AND u.isactive
LIMIT 1
2025-10-23 23:24:26.167 +08:00 [INF] User logged in successfully: ellisonthihanaing@gmail.com
2025-10-23 23:24:26.171 +08:00 [INF] Executing OkObjectResult, writing value of type 'EduStack.Core.DTOs.Common.ApiResponse`1[[EduStack.Core.DTOs.Auth.LoginResponseDto, EduStack.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-23 23:24:26.177 +08:00 [INF] Executed action EduStack.API.Controllers.AuthController.Login (EduStack.API) in 345.1904ms
2025-10-23 23:24:26.181 +08:00 [INF] Executed endpoint 'EduStack.API.Controllers.AuthController.Login (EduStack.API)'
2025-10-23 23:24:26.185 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/auth/login - 200 null application/json; charset=utf-8 376.6017ms
2025-10-23 23:33:51.316 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/auth/login - null null
2025-10-23 23:33:51.325 +08:00 [INF] CORS policy execution successful.
2025-10-23 23:33:51.328 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/auth/login - 204 null null 11.3443ms
2025-10-23 23:33:51.340 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/auth/login - application/json 59
2025-10-23 23:33:51.349 +08:00 [INF] CORS policy execution successful.
2025-10-23 23:33:51.351 +08:00 [INF] Executing endpoint 'EduStack.API.Controllers.AuthController.Login (EduStack.API)'
2025-10-23 23:33:51.356 +08:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(EduStack.Core.DTOs.Auth.LoginUserDto) on controller EduStack.API.Controllers.AuthController (EduStack.API).
2025-10-23 23:33:51.430 +08:00 [INF] Executed DbCommand (6ms) [Parameters=[@__loginDto_Email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u.id, u.avatar, u.createdat, u.email, u.fullname, u.isactive, u.passwordhash, u.role, u.updatedat
FROM users AS u
WHERE u.email = @__loginDto_Email_0 AND u.isactive
LIMIT 1
2025-10-23 23:33:51.698 +08:00 [INF] User logged in successfully: ellisonthihanaing@gmail.com
2025-10-23 23:33:51.702 +08:00 [INF] Executing OkObjectResult, writing value of type 'EduStack.Core.DTOs.Common.ApiResponse`1[[EduStack.Core.DTOs.Auth.LoginResponseDto, EduStack.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-23 23:33:51.706 +08:00 [INF] Executed action EduStack.API.Controllers.AuthController.Login (EduStack.API) in 343.0691ms
2025-10-23 23:33:51.711 +08:00 [INF] Executed endpoint 'EduStack.API.Controllers.AuthController.Login (EduStack.API)'
2025-10-23 23:33:51.716 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/auth/login - 200 null application/json; charset=utf-8 375.7999ms
