2025-10-23 21:32:16.948 +08:00 [INF] Testing database connection...
2025-10-23 21:32:18.249 +08:00 [INF] Database connection test: true
2025-10-23 21:32:18.257 +08:00 [INF] Database connection successful
2025-10-23 21:32:18.263 +08:00 [INF] EduStack API starting up...
2025-10-23 21:32:18.287 +08:00 [INF] User profile is available. Using 'C:\Users\TUF\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-23 21:32:18.402 +08:00 [INF] Now listening on: http://localhost:5000
2025-10-23 21:32:18.405 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-23 21:32:18.412 +08:00 [INF] Hosting environment: Development
2025-10-23 21:32:18.414 +08:00 [INF] Content root path: C:\xampp\htdocs\EduStack-eLearning-Website\EduStack-Backend\EduStack.API
2025-10-23 21:32:19.136 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/auth/register - application/json 126
2025-10-23 21:32:19.192 +08:00 [WRN] Failed to determine the https port for redirect.
2025-10-23 21:32:19.223 +08:00 [INF] Executing endpoint 'EduStack.API.Controllers.AuthController.Register (EduStack.API)'
2025-10-23 21:32:19.267 +08:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(EduStack.Core.DTOs.Auth.RegisterUserDto) on controller EduStack.API.Controllers.AuthController (EduStack.API).
2025-10-23 21:32:19.931 +08:00 [INF] Executed DbCommand (62ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS u
    WHERE u."Email" = @__email_0)
2025-10-23 21:32:20.812 +08:00 [INF] Executed DbCommand (13ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?', @p6='?', @p7='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("Id", "Avatar", "CreatedAt", "Email", "FullName", "PasswordHash", "Role", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "IsActive";
2025-10-23 21:32:20.864 +08:00 [INF] User registered successfully: test2@example.com
2025-10-23 21:32:20.874 +08:00 [INF] Executing CreatedAtActionResult, writing value of type 'EduStack.Core.DTOs.Common.ApiResponse`1[[EduStack.Core.DTOs.Auth.LoginResponseDto, EduStack.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-23 21:32:20.920 +08:00 [INF] Executed action EduStack.API.Controllers.AuthController.Register (EduStack.API) in 1633.5525ms
2025-10-23 21:32:20.925 +08:00 [INF] Executed endpoint 'EduStack.API.Controllers.AuthController.Register (EduStack.API)'
2025-10-23 21:32:20.933 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/auth/register - 201 null application/json; charset=utf-8 1798.6076ms
2025-10-23 21:35:18.823 +08:00 [INF] Testing database connection...
2025-10-23 21:35:20.140 +08:00 [INF] Database connection test: true
2025-10-23 21:35:20.147 +08:00 [INF] Database connection successful
2025-10-23 21:35:20.153 +08:00 [INF] EduStack API starting up...
2025-10-23 21:35:20.176 +08:00 [INF] User profile is available. Using 'C:\Users\TUF\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-23 21:35:20.284 +08:00 [INF] Now listening on: http://localhost:5000
2025-10-23 21:35:20.287 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-23 21:35:20.293 +08:00 [INF] Hosting environment: Development
2025-10-23 21:35:20.296 +08:00 [INF] Content root path: C:\xampp\htdocs\EduStack-eLearning-Website\EduStack-Backend\EduStack.API
2025-10-23 21:35:22.988 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/health - null null
2025-10-23 21:35:23.036 +08:00 [WRN] Failed to determine the https port for redirect.
2025-10-23 21:35:23.062 +08:00 [INF] Executing endpoint 'HTTP: GET /health'
2025-10-23 21:35:23.071 +08:00 [INF] Executed endpoint 'HTTP: GET /health'
2025-10-23 21:35:23.075 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/health - 200 null application/json; charset=utf-8 88.7681ms
2025-10-23 21:35:34.082 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/auth/register - application/json 134
2025-10-23 21:35:34.094 +08:00 [INF] Executing endpoint 'EduStack.API.Controllers.AuthController.Register (EduStack.API)'
2025-10-23 21:35:34.124 +08:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(EduStack.Core.DTOs.Auth.RegisterUserDto) on controller EduStack.API.Controllers.AuthController (EduStack.API).
2025-10-23 21:35:34.698 +08:00 [INF] Executed DbCommand (62ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS u
    WHERE u."Email" = @__email_0)
2025-10-23 21:35:35.605 +08:00 [INF] Executed DbCommand (13ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?', @p6='?', @p7='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("Id", "Avatar", "CreatedAt", "Email", "FullName", "PasswordHash", "Role", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "IsActive";
2025-10-23 21:35:35.661 +08:00 [INF] User registered successfully: finaltest@example.com
2025-10-23 21:35:35.670 +08:00 [INF] Executing CreatedAtActionResult, writing value of type 'EduStack.Core.DTOs.Common.ApiResponse`1[[EduStack.Core.DTOs.Auth.LoginResponseDto, EduStack.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-23 21:35:35.721 +08:00 [INF] Executed action EduStack.API.Controllers.AuthController.Register (EduStack.API) in 1587.5772ms
2025-10-23 21:35:35.726 +08:00 [INF] Executed endpoint 'EduStack.API.Controllers.AuthController.Register (EduStack.API)'
2025-10-23 21:35:35.733 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/auth/register - 201 null application/json; charset=utf-8 1651.0263ms
