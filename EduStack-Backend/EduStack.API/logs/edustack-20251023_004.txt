2025-10-23 21:25:29.864 +08:00 [INF] Testing database connection...
2025-10-23 21:25:31.081 +08:00 [INF] Database connection test: true
2025-10-23 21:25:31.086 +08:00 [INF] Database connection successful
2025-10-23 21:25:31.092 +08:00 [INF] EduStack API starting up...
2025-10-23 21:25:31.114 +08:00 [INF] User profile is available. Using 'C:\Users\TUF\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-23 21:25:31.209 +08:00 [INF] Now listening on: http://localhost:5000
2025-10-23 21:25:31.212 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-23 21:25:31.218 +08:00 [INF] Hosting environment: Development
2025-10-23 21:25:31.226 +08:00 [INF] Content root path: C:\xampp\htdocs\EduStack-eLearning-Website\EduStack-Backend\EduStack.API
2025-10-23 21:25:38.688 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/index.html - null null
2025-10-23 21:25:38.809 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/index.html - 200 null text/html;charset=utf-8 122.278ms
2025-10-23 21:25:38.959 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json - null null
2025-10-23 21:25:39.180 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 220.0959ms
2025-10-23 21:26:06.803 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/Auth/register - application/json 100
2025-10-23 21:26:06.818 +08:00 [WRN] Failed to determine the https port for redirect.
2025-10-23 21:26:06.823 +08:00 [INF] CORS policy execution failed.
2025-10-23 21:26:06.826 +08:00 [INF] Request origin http://localhost:5000 does not have permission to access the resource.
2025-10-23 21:26:06.873 +08:00 [INF] Executing endpoint 'EduStack.API.Controllers.AuthController.Register (EduStack.API)'
2025-10-23 21:26:06.907 +08:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(EduStack.Core.DTOs.Auth.RegisterUserDto) on controller EduStack.API.Controllers.AuthController (EduStack.API).
2025-10-23 21:26:07.645 +08:00 [INF] Executed DbCommand (74ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS u
    WHERE u."Email" = @__email_0)
2025-10-23 21:26:08.607 +08:00 [INF] Executed DbCommand (14ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?', @p6='?', @p7='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("Id", "Avatar", "CreatedAt", "Email", "FullName", "PasswordHash", "Role", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "IsActive";
2025-10-23 21:26:08.671 +08:00 [INF] User registered successfully: thiha@gmail.com
2025-10-23 21:26:08.680 +08:00 [INF] Executing CreatedAtActionResult, writing value of type 'EduStack.Core.DTOs.Common.ApiResponse`1[[EduStack.Core.DTOs.Auth.LoginResponseDto, EduStack.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-23 21:26:08.721 +08:00 [INF] Executed action EduStack.API.Controllers.AuthController.Register (EduStack.API) in 1802.5566ms
2025-10-23 21:26:08.725 +08:00 [INF] Executed endpoint 'EduStack.API.Controllers.AuthController.Register (EduStack.API)'
2025-10-23 21:26:08.735 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/Auth/register - 201 null application/json; charset=utf-8 1931.8113ms
2025-10-23 21:27:17.861 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/auth/register - null null
2025-10-23 21:27:17.871 +08:00 [INF] CORS policy execution successful.
2025-10-23 21:27:17.875 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/auth/register - 204 null null 13.7111ms
2025-10-23 21:27:17.888 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/auth/register - application/json 91
2025-10-23 21:27:17.896 +08:00 [INF] CORS policy execution successful.
2025-10-23 21:27:17.901 +08:00 [INF] Executing endpoint 'EduStack.API.Controllers.AuthController.Register (EduStack.API)'
2025-10-23 21:27:17.904 +08:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(EduStack.Core.DTOs.Auth.RegisterUserDto) on controller EduStack.API.Controllers.AuthController (EduStack.API).
2025-10-23 21:27:17.986 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS u
    WHERE u."Email" = @__email_0)
2025-10-23 21:27:18.198 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?', @p6='?', @p7='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("Id", "Avatar", "CreatedAt", "Email", "FullName", "PasswordHash", "Role", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "IsActive";
2025-10-23 21:27:18.206 +08:00 [INF] User registered successfully: ellison@gmail.com
2025-10-23 21:27:18.211 +08:00 [INF] Executing CreatedAtActionResult, writing value of type 'EduStack.Core.DTOs.Common.ApiResponse`1[[EduStack.Core.DTOs.Auth.LoginResponseDto, EduStack.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-23 21:27:18.216 +08:00 [INF] Executed action EduStack.API.Controllers.AuthController.Register (EduStack.API) in 306.9039ms
2025-10-23 21:27:18.221 +08:00 [INF] Executed endpoint 'EduStack.API.Controllers.AuthController.Register (EduStack.API)'
2025-10-23 21:27:18.224 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/auth/register - 201 null application/json; charset=utf-8 335.8649ms
2025-10-23 21:29:55.505 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/health - null null
2025-10-23 21:29:55.514 +08:00 [INF] Executing endpoint 'HTTP: GET /health'
2025-10-23 21:29:55.520 +08:00 [INF] Executed endpoint 'HTTP: GET /health'
2025-10-23 21:29:55.523 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/health - 200 null application/json; charset=utf-8 17.6423ms
2025-10-23 21:30:05.655 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/auth/register - application/json 123
2025-10-23 21:30:05.661 +08:00 [INF] Executing endpoint 'EduStack.API.Controllers.AuthController.Register (EduStack.API)'
2025-10-23 21:30:05.664 +08:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(EduStack.Core.DTOs.Auth.RegisterUserDto) on controller EduStack.API.Controllers.AuthController (EduStack.API).
2025-10-23 21:30:05.685 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS u
    WHERE u."Email" = @__email_0)
2025-10-23 21:30:05.900 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?', @p6='?', @p7='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("Id", "Avatar", "CreatedAt", "Email", "FullName", "PasswordHash", "Role", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "IsActive";
2025-10-23 21:30:05.908 +08:00 [INF] User registered successfully: test@example.com
2025-10-23 21:30:05.911 +08:00 [INF] Executing CreatedAtActionResult, writing value of type 'EduStack.Core.DTOs.Common.ApiResponse`1[[EduStack.Core.DTOs.Auth.LoginResponseDto, EduStack.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-23 21:30:05.914 +08:00 [INF] Executed action EduStack.API.Controllers.AuthController.Register (EduStack.API) in 245.4761ms
2025-10-23 21:30:05.917 +08:00 [INF] Executed endpoint 'EduStack.API.Controllers.AuthController.Register (EduStack.API)'
2025-10-23 21:30:05.921 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/auth/register - 201 null application/json; charset=utf-8 265.8114ms
2025-10-23 21:31:32.817 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/auth/register - application/json 123
2025-10-23 21:31:32.822 +08:00 [INF] Executing endpoint 'EduStack.API.Controllers.AuthController.Register (EduStack.API)'
2025-10-23 21:31:32.825 +08:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(EduStack.Core.DTOs.Auth.RegisterUserDto) on controller EduStack.API.Controllers.AuthController (EduStack.API).
2025-10-23 21:31:32.888 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS u
    WHERE u."Email" = @__email_0)
2025-10-23 21:31:33.106 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?', @p6='?', @p7='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("Id", "Avatar", "CreatedAt", "Email", "FullName", "PasswordHash", "Role", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "IsActive";
2025-10-23 21:31:33.115 +08:00 [INF] User registered successfully: debug@test.com
2025-10-23 21:31:33.119 +08:00 [INF] Executing CreatedAtActionResult, writing value of type 'EduStack.Core.DTOs.Common.ApiResponse`1[[EduStack.Core.DTOs.Auth.LoginResponseDto, EduStack.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-23 21:31:33.124 +08:00 [INF] Executed action EduStack.API.Controllers.AuthController.Register (EduStack.API) in 295.3312ms
2025-10-23 21:31:33.132 +08:00 [INF] Executed endpoint 'EduStack.API.Controllers.AuthController.Register (EduStack.API)'
2025-10-23 21:31:33.136 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/auth/register - 201 null application/json; charset=utf-8 318.8528ms
2025-10-23 21:32:16.948 +08:00 [INF] Testing database connection...
2025-10-23 21:32:18.249 +08:00 [INF] Database connection test: true
2025-10-23 21:32:18.257 +08:00 [INF] Database connection successful
2025-10-23 21:32:18.263 +08:00 [INF] EduStack API starting up...
2025-10-23 21:32:18.287 +08:00 [INF] User profile is available. Using 'C:\Users\TUF\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-23 21:32:18.402 +08:00 [INF] Now listening on: http://localhost:5000
2025-10-23 21:32:18.405 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-23 21:32:18.412 +08:00 [INF] Hosting environment: Development
2025-10-23 21:32:18.414 +08:00 [INF] Content root path: C:\xampp\htdocs\EduStack-eLearning-Website\EduStack-Backend\EduStack.API
2025-10-23 21:32:19.136 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/auth/register - application/json 126
2025-10-23 21:32:19.192 +08:00 [WRN] Failed to determine the https port for redirect.
2025-10-23 21:32:19.223 +08:00 [INF] Executing endpoint 'EduStack.API.Controllers.AuthController.Register (EduStack.API)'
2025-10-23 21:32:19.267 +08:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(EduStack.Core.DTOs.Auth.RegisterUserDto) on controller EduStack.API.Controllers.AuthController (EduStack.API).
2025-10-23 21:32:19.931 +08:00 [INF] Executed DbCommand (62ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS u
    WHERE u."Email" = @__email_0)
2025-10-23 21:32:20.812 +08:00 [INF] Executed DbCommand (13ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?', @p6='?', @p7='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("Id", "Avatar", "CreatedAt", "Email", "FullName", "PasswordHash", "Role", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "IsActive";
2025-10-23 21:32:20.864 +08:00 [INF] User registered successfully: test2@example.com
2025-10-23 21:32:20.874 +08:00 [INF] Executing CreatedAtActionResult, writing value of type 'EduStack.Core.DTOs.Common.ApiResponse`1[[EduStack.Core.DTOs.Auth.LoginResponseDto, EduStack.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-23 21:32:20.920 +08:00 [INF] Executed action EduStack.API.Controllers.AuthController.Register (EduStack.API) in 1633.5525ms
2025-10-23 21:32:20.925 +08:00 [INF] Executed endpoint 'EduStack.API.Controllers.AuthController.Register (EduStack.API)'
2025-10-23 21:32:20.933 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/auth/register - 201 null application/json; charset=utf-8 1798.6076ms
