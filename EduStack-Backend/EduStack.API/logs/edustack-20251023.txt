2025-10-23 21:05:49.621 +08:00 [INF] Executed DbCommand (584ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE DATABASE "EduStackDB_Dev";
2025-10-23 21:05:50.060 +08:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Categories" (
    "Id" uuid NOT NULL,
    "Name" character varying(100) NOT NULL,
    "Description" text,
    "Icon" character varying(500),
    "CreatedAt" timestamp with time zone NOT NULL,
    "UpdatedAt" timestamp with time zone NOT NULL,
    CONSTRAINT "PK_Categories" PRIMARY KEY ("Id")
);
2025-10-23 21:05:50.080 +08:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Users" (
    "Id" uuid NOT NULL,
    "Email" character varying(255) NOT NULL,
    "PasswordHash" character varying(255) NOT NULL,
    "FullName" character varying(255) NOT NULL,
    "Role" character varying(50) NOT NULL DEFAULT 'STUDENT',
    "Avatar" character varying(500),
    "IsActive" boolean NOT NULL DEFAULT TRUE,
    "CreatedAt" timestamp with time zone NOT NULL,
    "UpdatedAt" timestamp with time zone NOT NULL,
    CONSTRAINT "PK_Users" PRIMARY KEY ("Id")
);
2025-10-23 21:05:50.099 +08:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Courses" (
    "Id" uuid NOT NULL,
    "Title" character varying(255) NOT NULL,
    "Description" text NOT NULL,
    "Thumbnail" character varying(500) NOT NULL,
    "Price" numeric(10,2) NOT NULL,
    "Category" character varying(100) NOT NULL,
    "Level" character varying(50) NOT NULL DEFAULT 'BEGINNER',
    "Duration" integer NOT NULL,
    "InstructorId" uuid NOT NULL,
    "IsPublished" boolean NOT NULL DEFAULT FALSE,
    "CreatedAt" timestamp with time zone NOT NULL,
    "UpdatedAt" timestamp with time zone NOT NULL,
    CONSTRAINT "PK_Courses" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_Courses_Users_InstructorId" FOREIGN KEY ("InstructorId") REFERENCES "Users" ("Id") ON DELETE RESTRICT
);
2025-10-23 21:05:50.112 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Enrollments" (
    "Id" uuid NOT NULL,
    "UserId" uuid NOT NULL,
    "CourseId" uuid NOT NULL,
    "Status" character varying(50) NOT NULL DEFAULT 'ACTIVE',
    "EnrolledAt" timestamp with time zone NOT NULL,
    "CompletedAt" timestamp with time zone,
    CONSTRAINT "PK_Enrollments" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_Enrollments_Courses_CourseId" FOREIGN KEY ("CourseId") REFERENCES "Courses" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_Enrollments_Users_UserId" FOREIGN KEY ("UserId") REFERENCES "Users" ("Id") ON DELETE CASCADE
);
2025-10-23 21:05:50.127 +08:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Lessons" (
    "Id" uuid NOT NULL,
    "Title" character varying(255) NOT NULL,
    "Description" text,
    "VideoUrl" character varying(500),
    "Duration" integer NOT NULL,
    "Order" integer NOT NULL,
    "CourseId" uuid NOT NULL,
    "IsPublished" boolean NOT NULL DEFAULT FALSE,
    "CreatedAt" timestamp with time zone NOT NULL,
    "UpdatedAt" timestamp with time zone NOT NULL,
    CONSTRAINT "PK_Lessons" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_Lessons_Courses_CourseId" FOREIGN KEY ("CourseId") REFERENCES "Courses" ("Id") ON DELETE CASCADE
);
2025-10-23 21:05:50.146 +08:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Reviews" (
    "Id" uuid NOT NULL,
    "UserId" uuid NOT NULL,
    "CourseId" uuid NOT NULL,
    "Rating" integer NOT NULL,
    "Comment" text,
    "CreatedAt" timestamp with time zone NOT NULL,
    "UpdatedAt" timestamp with time zone NOT NULL,
    CONSTRAINT "PK_Reviews" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_Reviews_Courses_CourseId" FOREIGN KEY ("CourseId") REFERENCES "Courses" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_Reviews_Users_UserId" FOREIGN KEY ("UserId") REFERENCES "Users" ("Id") ON DELETE CASCADE
);
2025-10-23 21:05:50.200 +08:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Progress" (
    "Id" uuid NOT NULL,
    "UserId" uuid NOT NULL,
    "CourseId" uuid NOT NULL,
    "LessonId" uuid,
    "ProgressPercentage" integer NOT NULL DEFAULT 0,
    "CompletedAt" timestamp with time zone,
    "CreatedAt" timestamp with time zone NOT NULL,
    "UpdatedAt" timestamp with time zone NOT NULL,
    CONSTRAINT "PK_Progress" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_Progress_Courses_CourseId" FOREIGN KEY ("CourseId") REFERENCES "Courses" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_Progress_Lessons_LessonId" FOREIGN KEY ("LessonId") REFERENCES "Lessons" ("Id") ON DELETE SET NULL,
    CONSTRAINT "FK_Progress_Users_UserId" FOREIGN KEY ("UserId") REFERENCES "Users" ("Id") ON DELETE CASCADE
);
2025-10-23 21:05:50.231 +08:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Categories" ("Id", "CreatedAt", "Description", "Icon", "Name", "UpdatedAt")
VALUES ('30cfe246-3a8c-46c3-b99f-417e38b8ae45', TIMESTAMPTZ '2025-10-23T13:05:48.868503Z', 'Master programming fundamentals', 'school', 'Programming', TIMESTAMPTZ '2025-10-23T13:05:48.868503Z');
INSERT INTO "Categories" ("Id", "CreatedAt", "Description", "Icon", "Name", "UpdatedAt")
VALUES ('5caab449-78ff-4da7-b9a6-d41ce48f0932', TIMESTAMPTZ '2025-10-23T13:05:48.868495Z', 'Learn modern web development technologies', 'code', 'Web Development', TIMESTAMPTZ '2025-10-23T13:05:48.868495Z');
INSERT INTO "Categories" ("Id", "CreatedAt", "Description", "Icon", "Name", "UpdatedAt")
VALUES ('79c6f757-1c4c-4127-aaac-1adc81e31271', TIMESTAMPTZ '2025-10-23T13:05:48.868498Z', 'Develop business and management skills', 'business', 'Business', TIMESTAMPTZ '2025-10-23T13:05:48.868498Z');
INSERT INTO "Categories" ("Id", "CreatedAt", "Description", "Icon", "Name", "UpdatedAt")
VALUES ('79fa8442-380f-40ca-9826-7c950372c095', TIMESTAMPTZ '2025-10-23T13:05:48.868503Z', 'Build mobile applications', 'phone_android', 'Mobile Development', TIMESTAMPTZ '2025-10-23T13:05:48.868503Z');
INSERT INTO "Categories" ("Id", "CreatedAt", "Description", "Icon", "Name", "UpdatedAt")
VALUES ('d0dbda08-20ee-43ff-b97a-a5c803a53f9e', TIMESTAMPTZ '2025-10-23T13:05:48.868501Z', 'Protect systems and data from threats', 'security', 'Cybersecurity', TIMESTAMPTZ '2025-10-23T13:05:48.868501Z');
INSERT INTO "Categories" ("Id", "CreatedAt", "Description", "Icon", "Name", "UpdatedAt")
VALUES ('d99bb00d-0c8b-427b-85cf-4e2014df66d1', TIMESTAMPTZ '2025-10-23T13:05:48.868497Z', 'Create beautiful and user-friendly interfaces', 'palette', 'UI/UX Design', TIMESTAMPTZ '2025-10-23T13:05:48.868497Z');
INSERT INTO "Categories" ("Id", "CreatedAt", "Description", "Icon", "Name", "UpdatedAt")
VALUES ('e207fb08-e5e4-47f9-8a9d-163f78c32f9e', TIMESTAMPTZ '2025-10-23T13:05:48.868502Z', 'Learn cloud platforms and services', 'cloud', 'Cloud Computing', TIMESTAMPTZ '2025-10-23T13:05:48.868502Z');
INSERT INTO "Categories" ("Id", "CreatedAt", "Description", "Icon", "Name", "UpdatedAt")
VALUES ('f8d22bfe-a30d-422d-9237-ea9c596b41c7', TIMESTAMPTZ '2025-10-23T13:05:48.868497Z', 'Master data analysis and machine learning', 'science', 'Data Science', TIMESTAMPTZ '2025-10-23T13:05:48.868497Z');
2025-10-23 21:05:50.248 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_Categories_Name" ON "Categories" ("Name");
2025-10-23 21:05:50.257 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Courses_InstructorId" ON "Courses" ("InstructorId");
2025-10-23 21:05:50.267 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Enrollments_CourseId" ON "Enrollments" ("CourseId");
2025-10-23 21:05:50.277 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_Enrollments_UserId_CourseId" ON "Enrollments" ("UserId", "CourseId");
2025-10-23 21:05:50.288 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Lessons_CourseId" ON "Lessons" ("CourseId");
2025-10-23 21:05:50.297 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Progress_CourseId" ON "Progress" ("CourseId");
2025-10-23 21:05:50.307 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Progress_LessonId" ON "Progress" ("LessonId");
2025-10-23 21:05:50.318 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_Progress_UserId_CourseId_LessonId" ON "Progress" ("UserId", "CourseId", "LessonId");
2025-10-23 21:05:50.330 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Reviews_CourseId" ON "Reviews" ("CourseId");
2025-10-23 21:05:50.344 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_Reviews_UserId_CourseId" ON "Reviews" ("UserId", "CourseId");
2025-10-23 21:05:50.355 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_Users_Email" ON "Users" ("Email");
2025-10-23 21:05:50.374 +08:00 [INF] EduStack API starting up...
2025-10-23 21:05:50.401 +08:00 [INF] User profile is available. Using 'C:\Users\TUF\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-23 21:05:50.627 +08:00 [INF] Now listening on: http://localhost:5000
2025-10-23 21:05:50.632 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-23 21:05:50.635 +08:00 [INF] Hosting environment: Development
2025-10-23 21:05:50.637 +08:00 [INF] Content root path: C:\xampp\htdocs\EduStack-eLearning-Website\EduStack-Backend\EduStack.API
2025-10-23 21:06:20.993 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ - null null
2025-10-23 21:06:21.058 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/ - 301 0 null 67.4542ms
2025-10-23 21:06:21.075 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/index.html - null null
2025-10-23 21:06:21.165 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/index.html - 200 null text/html;charset=utf-8 89.7253ms
2025-10-23 21:06:21.201 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger-ui.css - null null
2025-10-23 21:06:21.211 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger-ui-bundle.js - null null
2025-10-23 21:06:21.212 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger-ui-standalone-preset.js - null null
2025-10-23 21:06:21.244 +08:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2025-10-23 21:06:21.244 +08:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2025-10-23 21:06:21.244 +08:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2025-10-23 21:06:21.258 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/swagger-ui-standalone-preset.js - 200 312163 text/javascript 46.4699ms
2025-10-23 21:06:21.259 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/swagger-ui.css - 200 144929 text/css 58.6365ms
2025-10-23 21:06:21.262 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/swagger-ui-bundle.js - 200 1061536 text/javascript 51.2807ms
2025-10-23 21:06:21.491 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json - null null
2025-10-23 21:06:21.530 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/favicon-32x32.png - null null
2025-10-23 21:06:21.546 +08:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2025-10-23 21:06:21.553 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/favicon-32x32.png - 200 628 image/png 23.45ms
2025-10-23 21:06:21.678 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 186.4476ms
2025-10-23 21:07:32.287 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/Auth/register - application/json 121
2025-10-23 21:07:32.302 +08:00 [WRN] Failed to determine the https port for redirect.
2025-10-23 21:07:32.308 +08:00 [INF] CORS policy execution failed.
2025-10-23 21:07:32.314 +08:00 [INF] Request origin http://localhost:5000 does not have permission to access the resource.
2025-10-23 21:07:32.409 +08:00 [INF] Executing endpoint 'EduStack.API.Controllers.AuthController.Register (EduStack.API)'
2025-10-23 21:07:32.437 +08:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(EduStack.Core.DTOs.Auth.RegisterUserDto) on controller EduStack.API.Controllers.AuthController (EduStack.API).
2025-10-23 21:07:33.056 +08:00 [INF] Executed DbCommand (55ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS u
    WHERE u."Email" = @__email_0)
2025-10-23 21:07:33.776 +08:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?', @p6='?', @p7='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("Id", "Avatar", "CreatedAt", "Email", "FullName", "PasswordHash", "Role", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "IsActive";
2025-10-23 21:07:33.846 +08:00 [INF] User registered successfully: ellisonthihanaing@gmail.com
2025-10-23 21:07:33.853 +08:00 [INF] Executing CreatedAtActionResult, writing value of type 'EduStack.Core.DTOs.Common.ApiResponse`1[[EduStack.Core.DTOs.Auth.LoginResponseDto, EduStack.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-23 21:07:33.886 +08:00 [INF] Executed action EduStack.API.Controllers.AuthController.Register (EduStack.API) in 1437.8188ms
2025-10-23 21:07:33.891 +08:00 [INF] Executed endpoint 'EduStack.API.Controllers.AuthController.Register (EduStack.API)'
2025-10-23 21:07:33.899 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/Auth/register - 201 null application/json; charset=utf-8 1612.0766ms
